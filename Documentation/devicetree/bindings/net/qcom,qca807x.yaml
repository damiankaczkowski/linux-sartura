# SPDX-License-Identifier: (GPL-2.0-only OR BSD-2-Clause)
%YAML 1.2
---
$id: http://devicetree.org/schemas/net/qcom,qca807x.yaml#
$schema: http://devicetree.org/meta-schemas/core.yaml#

title: Qualcomm QCA807x PHY

maintainers:
  - Robert Marko <robert.marko@sartura.hr>

description: |
  Bindings for Qualcomm QCA807x PHYs

allOf:
  - $ref: ethernet-phy.yaml#

properties:
  reg:
    maxItems: 1

  qcom,fiber-enable:
    description: |
      If present, then PHYs combo port is configured to operate in combo
      mode. In combo mode autodetection of copper and fiber media is
      used in order to support both of them.
      Combo mode can be strapped as well, if not strapped this property
      will set combo support anyway.
    type: boolean

  qcom,psgmii-az:
    description: |
      If present, then PSMGII PHY will advertise 802.3-az support to
      the MAC.
    type: boolean

  gpio-controller: true
  "#gpio-cells":
    const: 2

  qcom,tx-driver-strength:
    description: PSGMII/QSGMII SerDes TX driver strength control in mV.
    $ref: /schemas/types.yaml#/definitions/uint32
    enum: [140, 160, 180, 200, 220, 240, 260, 280, 300, 320, 400, 500, 600]

  qcom,control-dac:
    description: Analog MDI driver amplitude and bias current.
    $ref: /schemas/types.yaml#/definitions/uint32
    enum: [0, 1, 2, 3, 4, 5, 6, 7]

required:
  - reg

unevaluatedProperties: false

examples:
  - |
    #include <dt-bindings/net/qcom-qca807x.h>

    mdio {
      #address-cells = <1>;
      #size-cells = <0>;

      ethphy0: ethernet-phy@0 {
        compatible = "ethernet-phy-ieee802.3-c22";
        reg = <0>;

        qcom,control-dac = <QCA807X_CONTROL_DAC_DSP_VOLT_QUARTER_BIAS>;
      };
    };
